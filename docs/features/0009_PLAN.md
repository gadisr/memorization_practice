# Technical Plan: Display Actual Solution in Edge Tracing Results

## Brief Context

The user wants to enhance the edge tracing drill by displaying the actual correct solution alongside the user's input when they submit their tracing solution. Currently, the edge tracing drill shows the user's input and validation results, but doesn't display what the correct edge sequence should have been. This will help users learn by seeing the actual solution they should have traced.

## Current State Analysis

### Existing Infrastructure:
- ✅ `SequenceValidator` class with `scrambleAndValidate()` method that returns expected sequence
- ✅ `TracingRenderer` class that displays results with user input and validation
- ✅ Edge tracing drill fully functional with validation and scoring
- ✅ Results display shows user sequence, accuracy, and error details

### Files to be Modified:
- `src/ui/tracing-renderer.ts` - Update `displayTracingResults()` method to show actual solution
- `src/services/sequence-validator.ts` - Ensure `expectedSequence` is properly returned in validation results

## Algorithm Step-by-Step

### Phase 1: Backend Validation Enhancement

1. **Verify Expected Sequence Availability**:
   - Confirm that `SequenceValidator.scrambleAndValidate()` already returns `expectedSequence` in the result
   - Ensure the expected sequence is the correct edge tracing from the scramble
   - Validate that the sequence format matches user input format (space-separated letters)

### Phase 2: UI Results Display Enhancement

2. **Update Results Display**:
   - Modify `displayTracingResults()` method in `TracingRenderer` class
   - Add a new section in the results display for "Correct Solution"
   - Show the actual edge sequence that should have been traced
   - Format the display to clearly distinguish between:
     - User's input sequence
     - Correct solution sequence
     - Validation results and scoring

3. **Enhanced Results Layout**:
   - Add "Correct Solution" section above or below the existing sequence comparison
   - Use clear visual distinction (different styling, icons, or colors)
   - Include helpful text like "This is what you should have traced:"
   - Maintain existing validation feedback and error details

## Implementation Details

### Results Display Structure:
```
Results Header (Success/Error + Score + Time)
├── Correct Solution Section (NEW)
│   ├── "Correct Solution:"
│   └── "A B C D E F" (actual expected sequence)
├── Sequence Comparison (existing)
│   ├── Expected Sequence: [user's input]
│   └── Your Sequence: [user's input]
├── Validation Details (existing)
│   ├── Issues Found
│   ├── Edges in Position
│   └── Flipped Edges
└── Action Buttons (existing)
```

### Key Implementation Points:
- **Data Source**: Use `result.expectedSequence` from `SequenceValidator.scrambleAndValidate()`
- **Display Format**: Show as space-separated letters (e.g., "A B C D E F")
- **Visual Design**: Use distinct styling to make the correct solution stand out
- **User Experience**: Position the correct solution prominently for easy learning
- **Consistency**: Maintain existing result display structure and styling

### Edge Case Handling:
- **Empty Expected Sequence**: Show "No solution available" if expected sequence is empty
- **Format Consistency**: Ensure the displayed format matches what users should input
- **Error States**: Handle cases where validation fails but still show the correct solution

### Integration Points:
- **SequenceValidator**: Already provides `expectedSequence` in validation results
- **TracingRenderer**: Update `displayTracingResults()` method to include correct solution display
- **UI Styling**: Add appropriate CSS classes for the new correct solution section
- **User Learning**: Help users understand what they should have traced vs. what they actually traced

This enhancement will significantly improve the learning experience by showing users exactly what the correct edge tracing should have been, making it easier to learn from mistakes and improve their tracing skills.

